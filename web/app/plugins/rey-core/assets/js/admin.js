!function(e){"use strict";var t=e('<datalist id="rey_menu_classes" />').insertBefore("#menu-management");e.each({"--separated":"Add separator before","--badge-green":"Green Badge","--badge-red":"Red Badge","--badge-orange":"Orange Badge","--badge-blue":"Blue Badge","--badge-accent":"Accent Color Badge","--highlight":"Accent Colored","--bold":"Bold","--mobile-only":"Mobile Only","--desktop-only":"Desktop Only","--animate-cols":"Animate Columns","--scrollto":"Navigate to anchor"},(function(a,i){e('<option value="'+a+'">'+i+"</option>").appendTo(t)})),e("#menu-management input.edit-menu-item-classes").attr({list:"rey_menu_classes"}),e(document).on("menu-item-added",(function(t,a){e("input.edit-menu-item-classes",a).attr({list:"rey_menu_classes"})}))}(jQuery),function(e){"undefined"!=typeof acf&&(acf.addAction("ready",(function(){var t=void 0!==acf.getFields?acf.getFields():[];e.each(t,(function(t,a){if(a.$el.is(".rey-acf-responsive.--desktop")){var i,n,r=a.$el,s=a.data.name,o=e(".rey-acf-responsiveHandlers",r);if(o.length)return;if(i=r.siblings('[data-name="'+s+'_tablet"]'),n=r.siblings('[data-name="'+s+'_mobile"]'),!i.length&&!n.length)return;var c=wp.template("rey-acf-responsive-handler");o=r.prepend(c({device:!1}));var l=i.addClass("--hidden").prepend(c({device:!1})),d=n.addClass("--hidden").prepend(c({device:!1})),u=function(t){t.preventDefault();var a=e(t.currentTarget).attr("data-breakpoint");"desktop"===a&&(r.removeClass("--hidden"),i.addClass("--hidden"),n.addClass("--hidden")),"tablet"===a&&(r.addClass("--hidden"),i.removeClass("--hidden"),n.addClass("--hidden")),"mobile"===a&&(r.addClass("--hidden"),i.addClass("--hidden"),n.removeClass("--hidden"))};e("span[data-breakpoint]",o).on("click",u),e("span[data-breakpoint]",l).on("click",u),e("span[data-breakpoint]",d).on("click",u)}!function(t){if("gs_type"===t.data.name&&"rey-global-sections"===e('form[id="post"] input#post_type').val()&&"publish"!==e('form[id="post"] input#original_post_status').val()){var a=function(a){e("input#elementor-switch-mode-input").val()||(t.val()||t.val("generic"),e.post({url:reyCoreAdmin.ajax_url,data:{action:"rey_gs_set_type",security:reyCoreAdmin.ajax_nonce,type:a||t.val(),post_id:e('form[id="post"] input#post_ID').val()},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}}))};a(),e('input[type="radio"]',t.$el).on("change",(function(e){a(e.target.value)}))}}(a)}));var a=e(".acf-field.gs-type-selector"),i=a.find(".__gs-item");a.find('input[type="radio"]').each((function(t,n){var r=e(n),s=r.parent(),o=r.attr("value");s.addClass("--type-"+o).attr("data-type",o);var c=r.nextAll("i[data-icon-path]");if(c.length){var l=c.attr("data-icon-path");c.replaceWith('<svg class="rey-icon" role="img"><use href="'+l+'" xlink:href="'+l+'"></use></svg>')}s.on("mouseenter",(function(){i.hide(),a.find(`.__gs-item-desc [data-type="${o}"]`).show()}))})),a.on("mouseleave",(function(){i.hide()}));!function(){var t=function(t){var a=e(t),i=t.value,n=t.nextElementSibling;if(n&&n.remove(),i){var r,s,o=(r=window.location.href,s=r.indexOf("/wp-admin"),r.substring(0,s)+"/wp-admin/post.php?post={ID}&action=elementor".replace("{ID}",i)),c=t.parentElement;a.after(`<a href="${o}" class="__edit-link button" target="_blank" title="Edit">Edit <span class="dashicons dashicons-external"></span></a>`),c.classList.add("__edit-link-wrap")}},a='.acf-field-select[data-name="menu_global_section"] select';document.querySelectorAll(a).forEach((e=>{t(e)})),rey.dom.delegate(document,"change",a,(function(e){t(e.initiator)}))}();!function(){if(document.getElementById("tmpl-rey-lock-overlay")){var t=e("#acf-group_5c990a758cfda, #acf-group_5d4ff536a2684");e(".rey-lockOverlay",t).length||t.append(wp.template("rey-lock-overlay")())}}()})),e(".wp-admin.post-type-rey-templates #elementor-switch-mode-button").on("click",(function(e){var t=acf.getField("field_5eca340a16793");t.val()||(t.showError("Please select a template type"),e.preventDefault())})),acf.addAction("ready_field/key=field_5eca340a16793",(function(t){var a=t.val(),i=e("#elementor-switch-mode-button"),n=[];a||i.addClass("disabled"),-1!==n.indexOf(a)&&i.addClass("disabled"),t.on("click",'.acf-button-group input[type="radio"]',(function(t){var a=e(this).val();i.removeClass("disabled"),-1!==n.indexOf(a)&&i.addClass("disabled")}))})),e("#acf-group_5c4ad0bd35b33 .acf-hndle-cog").before('<a href="'+reyCoreAdmin.support_url__post_tax_cat+'" target="_blank" class="acf-rey-help-link">'+reyCoreAdmin.strings.help+"</a>"),e(window).on("load",(function(){window.location.hash&&setTimeout((()=>{if("#header-settings"===window.location.hash){var t=e('.acf-tab-button[data-key="field_5c4ad17030433"]');t.length&&(e("html, body").animate({scrollTop:t.offset().top-200},0),t.trigger("click"))}}),500)})))}(jQuery),function(e,t){"use strict";if(void 0!==e){e.Previewer.prototype.ready=function(t){var a=this,i={};i.settings=e.get(),i["settings-modified-while-loading"]=a.settingsModifiedWhileLoading,("resolved"!==a.deferred.active.state()||a.loading)&&(i.scroll=a.scroll),i["edit-shortcut-visibility"]=e.state("editShortcutVisibility").get(),a.send("sync",i),t.currentUrl&&(a.previewUrl.unbind(a.refresh),a.previewUrl.set(t.currentUrl),a.previewUrl.bind(a.refresh)),t.settingValidities&&e._handleSettingValidities({settingValidities:t.settingValidities,focusInvalidControl:!1})};var a={"tooltips-handler":wp.template("rey-customizer-tooltips-handler"),"new-content-handler":wp.template("rey-customizer-new-page")},i=function(e){var i=this;this.init=function(){this.options=t.extend({$target:"",id:"",placeholder:"",button_text:"",new_link:"",action:"",params:{},edit_link:"",$list:"",cb:function(e,t){}},e),this.options.$target&&(this.addContentForm(),this.events())},this.events=function(){this.$newButton.on("click",(function(e){e.preventDefault(),i.$form.toggleClass("--visible")})),this.options.edit_link&&(this.options.$list&&this.options.$list.on("change",(function(e){i.$editButton.attr("data-id",e.target.value)})),this.$editButton.on("click",(function(e){e.preventDefault(),window.open(t(this).attr("data-url")+t(this).attr("data-id"),"_blank").focus()}))),t(".__add",this.$form).on("click",(function(e){e.preventDefault(),i.$form.addClass("--loading");var a=t(".__input",i.$form),n=a.val(),r=t.extend({title:n},i.options.params);rey.ajax.request(i.options.action,{data:r,cb:function(e){if(e&&e.success){if(i.$form.removeClass("--loading"),!e.data)return console.error("Failed to create page!");i.options.cb(e.data,n),i.options.edit_link&&i.$editButton.attr("data-id",e.data),i.$form.removeClass("--visible"),a.val("")}}})}))},this.addContentForm=function(){var e=(0,a["new-content-handler"])({id:this.options.id,placeholder:this.options.placeholder,button_text:this.options.button_text,new_link:this.options.new_link,edit_link:this.options.edit_link,selected_id:this.options.$list.val()}),i=t(e).appendTo(this.options.$target);this.$form=t(".__form",i),this.$newButton=t(".__add-link",i),this.options.edit_link&&(this.$editButton=t(".__edit-link",i))},this.init()},n=function(a){var n=this;this.init=function(){this.control=a,this.$container=this.control.container,this.$wrapper=t(".rey-control-wrap",this.$container),this.$choices=t('.rey-radio-choices input[type="radio"]',this.$container),this.$listContainer=t(".rey-gs-list",this.$container),this.$list=t("select",this.$listContainer),this.$field=t('input[type="hidden"]',this.$container),this.addNewPage(),this.setValue(),this.events()},this.addNewPage=function(){var e=this.$listContainer,a=t(".description.--none-existing",this.$container);a.length&&(e=a),new i({$target:e,id:this.$wrapper.attr("data-id"),placeholder:this.$wrapper.attr("data-placeholder"),button_text:this.$wrapper.attr("data-button-text"),new_link:this.$wrapper.attr("data-new-link"),edit_link:this.$wrapper.attr("data-edit-link"),$list:this.$list,action:"create_new_gs",params:{type:this.$wrapper.attr("data-type")},cb:this.handleNewPage})},this.handleNewPage=function(e,a){t("option:selected",this.$list).removeAttr("selected"),t('<option value="'+e+'" selected>'+a+"</option>").appendTo(this.$list).trigger("change")},this.setValue=function(){"undefined"!==this.control.params.choices.global_sections&&Object.keys(this.control.params.choices.global_sections).length&&"gs"===t('.rey-radio-choices input[type="radio"]:checked',this.$container).val()&&(this.control.params.value in this.control.params.choices.global_sections||e(this.control.id,(function(e){e.set(Object.keys(n.control.params.choices.global_sections)[0])})))},this.isGs=function(e){return"none"!==e&&"default"!==e},this.updateField=function(e){this.$field.val(e).trigger("change")},this.events=function(){this.$choices.on("change",(function(e){n.$listContainer.toggleClass("--active",n.isGs(e.target.value)),n.isGs(e.target.value)?n.updateField(n.$list.val()):n.updateField(e.target.value)})),this.$list.on("change",(function(e){var t=e.target.value;n.updateField(t)}))},this.init()};e.control.bind("add",(function(e){e.params&&("number"===e.params.type&&e.container.addClass("--wrapped").wrapInner('<div class="control-wrap" />'),"rey-hf-global-section"===e.params.type&&new n(e))}));t(document).on("click",(function(e){t(e.target).closest(".wrapper.--active").length||t(".rey-cstTypo-btn.--active").length&&(t(".rey-cstTypo-btn").removeClass("--active"),t(".customize-control-kirki-typography .wrapper").removeClass("--active"))})),t(document).on("click",".rey-cstTypo-btn",(function(e){e.preventDefault();var a=t(this);a.hasClass("--active")||setTimeout((function(){a.addClass("--active"),a.closest(".customize-control-kirki-typography").find(".wrapper").addClass("--active")}),100)}));var r=function(e){this.init=function(){this.control=e,this.settings=this.control.params.help,t(".rey-csTitleHelp-popWrapper",this.control.container).length||this.make()},this.make=function(){a["tooltips-handler"]&&(t.isEmptyObject(this.settings)||(this.$label=t(".customize-control-title",this.control.container),this.$label.length&&this.$label.html(a["tooltips-handler"](this.settings))))},this.init()};t(document).ready((function(){t("#customize-theme-controls");var a=[],i=function(e){if(-1===a.indexOf(e.id)){a.push(e.id),t(document).trigger("reycore/customizer/section_expanded",[e]);var i=e.container,n=(e.contentContainer,e.controls());t.each(n,(function(e,a){"kirki-typography"===a.params.type&&function(e){var a=e.container;if(t('[data-should-collapse="no"]',a).length)a.addClass("--simple");else if(!t(".rey-cstTypo-wrapper",a).length){var i=t(".wrapper",a),n=t(".font-family select",i),r=t(".font-size input",i),s=t(".variant select",i),o=wp.template("rey-customizer-typo-handler"),c=a.prepend(o({ff:t('option[value="'+n.val()+'"]',n).text(),fz:r.val(),fw:s.val()}));n.on("change",(function(e){var a=t('option[value="'+t(this).val()+'"]',this).text();t(".rey-cstTypo-ff",c).text(a)})),r.on("change",(function(e){var a=t(this),i=a.val(),n=a.parent();n.removeClass("--invalid"),i&&(isNaN(i)||(n.addClass("--invalid"),a.val(parseInt(i)+"px")),t(".rey-cstTypo-fz",c).text(i))})),s.on("change",(function(e){t(".rey-cstTypo-fw",c).text(t(this).val())})),t(document).on("keyup",(function(e){27==e.keyCode&&i.removeClass("--active")}))}}(a),void 0!==a.params.help&&new r(a),a.params.css_class&&a.container.addClass(a.params.css_class),a.params.separator&&a.container.addClass("--separator-"+a.params.separator)})),t(".customize-control [data-control-class]",i).each((function(){var e=t(this);e.closest(".customize-control").addClass(e.attr("data-control-class"))})),t(".customize-control-rey_group_start",i).each((function(e,a){var i=t(a);i.wrapInner("<div class='__inner-group'></div>").addClass("--is-grouped"),i.nextUntil(".customize-control-rey_group_end").wrapInner("<div class='__inner-group'></div>").addClass("--is-grouped"),i.nextAll(".customize-control-rey_group_end").addClass("--is-grouped")}))}};e.section.each((function(e){e.expanded.bind((function(a){a&&(!function(e){if(document.getElementById("tmpl-rey-lock-overlay")&&!t(".rey-lockOverlay",e.contentContainer).length){var a=t(".customize-section-description-container",e.contentContainer).outerHeight()||0;e.contentContainer[0].style.setProperty("--desc-height",a+"px"),e.contentContainer.append(wp.template("rey-lock-overlay")()),e.containerParent.addClass("lk-controls")}}(e),i(e))}))}));var n={panel:e.settings.panels,section:e.settings.sections};t.each({panel:{nav_menus:"menus",widgets:"widgets"},section:{custom_css:"additional-css","cei-section":"export-import",static_front_page:"homepage-settings","sidebar-widgets-shop-sidebar":"widgets-shop-sidebar","sidebar-widgets-filters-sidebar":"widgets-filter-panel","sidebar-widgets-filters-top-sidebar":"widgets-filter-top-bar"}},(function(e,a){t.each(a,(function(t,a){n[e][t]={icon:a}}))})),t.each(n,(function(e,a){t.each(a,(function(a,i){i.icon&&function(e,a,i){var n='<svg class="rey-icon" role="img"><use href="#cs-icon-'+a+'" xlink:href="#cs-icon-'+a+'"></use></svg>',r=t(`#accordion-${i=i||"panel"}-${e} h3.accordion-section-title .accordion-trigger`);r.length||(r=t(`#accordion-${i}-${e} h3.accordion-section-title`)),r.prepend(n)}(a,i.icon,e)}))}));var s=e.control,o=t(".wp-full-overlay"),c=[];s.each((function(a){if(a.params&&void 0!==a.params.required&&a.params.required.length&&t(a.container).addClass("--conditioned"),a.params&&void 0!==a.params.is_responsive){var i=t(a.container),n=a.params.is_responsive,r=a.params.required&&a.params.required.length;n&&r&&c.push(a),i.attr("data-breakpoint",n);var s=function(){var e="desktop";return t.each(["desktop","tablet","mobile"],(function(t,a){o.hasClass("preview-"+a)&&(e=a)})),e};r&&t.each(a.params.required,(function(t,r){e(r.setting,(function(e){e.bind((function(e){kirkiDependencies.showKirkiControl(a)&&s()!==n&&setTimeout((function(){i.css("display","none")}),50)}))}))}));var l=function(e,i){var n=".rey-cst-responsiveHandlers";i===s()?r&&kirkiDependencies.showKirkiControl(a)&&e.css("display","list-item"):e.css("display","none");var o=t(n,e);if(!o.length){var c=wp.template("rey-customizer-responsive-handler");o=e.prepend(c({device:i})),t("span[data-breakpoint]",o).on("click",(function(e){e.preventDefault();var a=t(this),i=a.attr("data-breakpoint"),r=t('.wp-full-overlay-footer .devices button[data-device="'+i+'"]'),s=t("#customize-theme-controls"),o=a.closest(".customize-control").attr("id").replace("_tablet","").replace("_mobile","");a.parent().hasClass("--active")&&a.closest(".wp-full-overlay").hasClass("preview-"+i)&&a.closest(".customize-control").is("[data-breakpoint='"+i+"']")?(t(n).removeClass("--active"),s.removeClass("--active")):(t(n).removeClass("--active"),t.each(["","_tablet","_mobile"],(function(e,a){t("#"+o+a).children(n).addClass("--active")})),s.addClass("--active")),r.length&&r.trigger("click")}))}};e.section(a.section(),(function(e){e.expanded()||wp.customize.settings.autofocus.control===a.id?l(i,n):e.expanded.bind((function(e){e&&l(i,n)}))}))}if(a.params&&"number"===a.params.type){var d=function(e){e.hasClass("--wrapped")||e.addClass("--wrapped").wrapInner('<div class="control-wrap" />')};e.section(a.section(),(function(e){e.expanded()||wp.customize.settings.autofocus.control===a.id?d(a.container):e.expanded.bind((function(e){e&&d(a.container)}))}))}})),t(document).on("click","#customize-theme-controls.--active",(function(e){e.target.closest(".rey-cst-responsiveHandlers")||document.querySelectorAll(".rey-cst-responsiveHandlers").forEach((e=>{e.classList.remove("--active")}))})),t('a[href="#autofocus-control"]').on("click",(function(a){a.preventDefault();var i=t(this).attr("data-control");if(i){var n=e.control(i);n.focus(),setTimeout((function(){"rey_accordion_start"!==n.params.type||n.container.hasClass("--acc-open")||n.container.trigger("click")}),200)}})),t(".customize-control-rey_accordion_start").on("click",(function(e){e.preventDefault();var a=t(this),i=a.hasClass("--acc-open");a.removeClass("--acc-open"),a.siblings(".--is-accordion:not(.customize-control-rey_accordion_start)").addClass("--acc-hidden"),a.siblings(".customize-control-rey_accordion_start").removeClass("--acc-open"),i||(a.addClass("--acc-open"),a.nextUntil(".customize-control-rey_accordion_end").removeClass("--acc-hidden"))})),t(".wp-full-overlay-footer .devices button").on("click",(function(){var e=t(this).attr("data-device");t(".customize-control[data-breakpoint]:not(.--conditioned)",o).css("display","none"),t('.customize-control[data-breakpoint="'+e+'"]:not(.--conditioned)',o).css("display","list-item"),t.each(c,(function(a,i){var n=t(i.container);n.css("display","none"),kirkiDependencies.showKirkiControl(i)&&n.attr("data-breakpoint")==e&&n.css("display","list-item")}))})),t(".js-rey-button[data-ajax-action]").on("click",(function(e){var a=t(this),i=a.attr("data-ajax-action")||"";i&&(e.preventDefault(),a.addClass("--loading disabled"),t.post({url:reyCoreAdmin.ajax_url,data:{action:i,security:reyCoreAdmin.ajax_nonce},success:function(e){a.removeClass("--loading"),e.data&&a.text(e.data)}}))})),t(document).on("click","#accordion-section-woo-header-cart",(function(t){t.preventDefault(),e.section("header-mini-cart").focus()})),"undefined"!=typeof _wpCustomizeSettings&&_wpCustomizeSettings.theme.stylesheet&&o.attr("data-theme",_wpCustomizeSettings.theme.stylesheet),t(".js-rey-button[data-action='rey_transfer_mods']").on("click",(function(e){var a=t(this),i=a.attr("data-action"),n=a.attr("data-default");(e.preventDefault(),i&&n)&&(confirm("Are you sure you want to override the settings? Also, please export your current settings first.")&&(a.addClass("--loading disabled"),t.post({url:reyCoreAdmin.ajax_url,data:{action:i,type:n,security:reyCoreAdmin.ajax_nonce},success:function(e){e&&e.success&&(a.text("Reloading page.."),setTimeout((function(){window.location.reload()}),1e3)),a.removeClass("--loading disabled")},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})))}));var l=t("#customize-control-custom_image_height"),d=t('input[name="woocommerce_thumbnail_cropping"]');"uncropped"!==d.val()&&l.slideUp(),d.on("change",(function(e){"uncropped"===e.target.value?l.slideDown():l.slideUp()}))}));var s=function(){var a="reycore-preview-disabled",i=rey.util.ls.get(a)&&!0===rey.util.ls.get(a),n=t("#customize-preview"),r=n.parent(),o="Hide Preview",c="Show Preview";t("iframe",n).length?(i&&n.length&&(r.addClass("--preview-disabled"),n.remove()),t('<button type="button" class="button button-secondary js-disable-preview '+(i?"--disabled":"")+'"><span>'+(i?c:o)+"</span></button>").prependTo("#customize-save-button-wrapper"),t(document).on("click",".js-disable-preview",(function(e){e.preventDefault();var i=t(this);if(i.hasClass("--disabled")){i.removeClass("--disabled"),localStorage.removeItem(a);var s=n.appendTo(r),l=t("iframe",s);l.attr("src",l.attr("data-src")),r.removeClass("--preview-disabled"),t("span",i).text(o)}else i.addClass("--disabled"),rey.util.ls.set(a,!0,18144e6),n.remove(),r.addClass("--preview-disabled"),t("span",i).text(c)})),_.each(["panel","section","control"],(function(t){if(i){var a=e.settings.autofocus[t];a&&e[t](a,(function(e){"control"===t&&e.deferred.embedded.resolve(),e.deferred.embedded.done((function(){e.focus()}))}))}}))):setTimeout((function(){s()}),500)};s(),e.controlConstructor["rey-title"]=e.Control.extend({ready:function(){this.template(this)},template:function(e){var t=wp.template("rey-title");e.container.html(t({label:e.params.label,description:e.params.description,id:e.id,titleArgs:e.params.titleArgs}))}}),e.controlConstructor["rey-color"]=e.Control.extend({ready:function(){this.globalIsInit=!1,this.template(this),this.initPicker()},initVars:function(e){this.globalIsInit||(this.$pickerContainer=t(e).closest(".wp-picker-container"),this.$pickerButton=t(".wp-color-result",this.$pickerContainer),this.$globalButton=t(".rey-colorGlobal",this.container),this.$globalPop=t(".rey-colorGlobal-pop",this.container),this.globalIsInit=!0,this.isActiveGlobal()&&this.$globalButton.addClass("--active"),this.events())},isActiveGlobal:function(){return-1!==this.setting._value.indexOf("var")},getColorCode:function(){return t('.__item[data-color-var="'+this.setting._value+'"]',this.$globalPop).attr("data-color")||this.setting._value},initPicker:function(){var e=this;this.$picker=t(".rey-color-control",this.container),this.$picker.wpColorPicker({palettes:!1,create:function(a){e.initVars(a.target),e.isActiveGlobal()&&t(".color-alpha",e.$pickerButton).css("background-color",e.getColorCode())},change:_.debounce((function(t){e.isActiveGlobal()||e.saveValue(e.$picker.val(),!0),e.checkEmpty()}),400),clear:function(t){e.saveValue(e.$picker.val(),!0),e.checkEmpty()}})},checkEmpty:function(){this.$pickerButton.toggleClass("--empty",!this.getColorCode())},events:function(){var e=this;this.$pickerButton.on("click",(function(){e.$globalButton.removeClass("--active"),e.isActiveGlobal()&&e.saveValue(e.getColorCode())})),this.$globalButton.on("click",(function(){t(".rey-colorGlobal-pop").removeClass("--active"),e.$globalPop.addClass("--active")})),t(".rey-colorGlobal-popClose",this.$globalPop).on("click",(function(){e.$globalPop.removeClass("--active")})),t(".__item",this.$globalPop).on("click",(function(){var a=t(this),i=a.attr("data-color"),n=a.attr("data-color-var");e.saveValue(n),t(".color-alpha",e.$pickerButton).css("background-color",i),e.$globalButton.addClass("--active"),e.$globalPop.removeClass("--active"),e.checkEmpty()}))},saveValue:function(e,t){t||this.$picker.attr("value",e).wpColorPicker("color",e),this.setting.set(e)},template:function(e){var t=wp.template("rey-color-markup");e.container.html(t({label:e.params.label,description:e.params.description,"data-id":e.id,mode:e.params.mode,inputAttrs:e.params.inputAttrs,"data-default-color":e.params.default,"data-alpha":e.params.choices.alpha,value:kirki.setting.get(e.id)}))}}),e.controlConstructor["rey-select"]=e.Control.extend({ready:function(){this.$list=t(".rey-control-select",this.container),this.initSelect()},initSelect:function(){var e=t('select[id="_customize-input-'+this.id+'"]',this.$list),a=this,i=parseInt(e.attr("data-multiple"),10)||1,n={escapeMarkup:function(e){return e}};this.params.query_args&&(n.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:a.params.query_args,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},n.minimumInputLength=2),this.params.placeholder&&(n.placeholder=this.params.placeholder,n.allowClear=!0),1<i&&(n.maximumSelectionLength=i,n.multiple=!0),t(e).select2(n)}}),"undefined"!=typeof kirki&&kirki&&(t.extend(kirki.input,{select:{init:function(e){this.ajax_choices=!(!e.params.ajax_choices||""===e.params.ajax_choices)&&e.params.ajax_choices,this.query_args=!(!e.params.query_args||t.isEmptyObject(e.params.query_args))&&e.params.query_args,(void 0===e.params.select2||!1!==e.params.select2||this.ajax_choices||this.query_args)&&(this.$list=t("select",e.container),this.initAjaxControl(e),this.initEditPreview(e),this.addNewPage(e))},initEditPreview:function(e){if(e.params.edit_preview){var a=e.setting.get(),i='<div class="rey-editPreview"><a href="'+reyCoreAdmin.site_url+'/wp-admin/post.php?post={{ID}}&action=edit" target="_blank" title="Click to edit this Global section with Elementor">Edit</a><div class="rey-previewIframe" data-id="{{ID}}"><a href="'+reyCoreAdmin.site_url+'/?p={{ID}}" target="_blank">Preview</a><div class="rey-previewIframe-holder"><iframe data-src="'+reyCoreAdmin.site_url+'/?p={{ID}}&admin_bar=0" frameborder="0" scrolling="no"></iframe></div></div></div>',n=function(a){var n="no"===a||"none"===a||"disabled"===a||""===a||isNaN(a);t(".rey-editPreview",e.container).remove(),n||t(i.replace(/{{ID}}/g,a)).prependTo(e.container.find(".kirki-input-container"))};n(a),this.$list.on("change",(function(e){n(e.target.value)}))}},initAjaxControl:function(a,i){var n=!1;i=i||'select[data-id="'+a.id+'"]';var r=parseInt(t(i).data("multiple")||10),s={escapeMarkup:function(e){return e}},o=function(){var e=t(this).val();e=null===e&&1<r?[]:e,a.setting.set(e)};if(a.params.placeholder&&(s.placeholder=a.params.placeholder,s.allowClear=!0),1<r&&(s.maximumSelectionLength=r),this.ajax_choices){var c=this.ajax_choices,l={};"object"==typeof this.ajax_choices&&(c=this.ajax_choices.action,l=this.ajax_choices.params),rey.ajax.request(c,{data:l,cb:function(e){if(e&&e.success&&e.data){var n=[];t.each(e.data,(function(e,t){var i=e===(a.params.value||a.params.default);n.push(new Option(t,e,i,i))})),t(i).append(n).trigger("change")}}})}else if(this.query_args){if(s.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:a.params.query_args,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},s.minimumInputLength=2,!n){var d=e(a.id).get(),u=this.query_args,p=t(i).closest(".customize-control");return p.addClass("--ajax"),t.isEmptyObject(d)||t.isEmptyObject(u)?void t(i).selectWoo(s).on("change",o):(p.addClass("--loading"),void t.post({url:reyCoreAdmin.ajax_url,data:{query_args:u,values:d,action:"rey_select_control_value_titles",security:reyCoreAdmin.ajax_nonce},success:function(e){n=!0,s.data=[],!e||"object"!=typeof e||t.isEmptyObject(e)||e.error||_.each(e,(function(e,t){s.data.push({id:t,text:e,selected:!0})})),t(i).selectWoo(s).on("change",o),p.removeClass("--loading")}}))}}else a.params.multiple&&1===a.params.multiple&&!(a.params.value in a.params.choices)&&e(a.id,(function(e){e.set(a.params.default)}));t(i).selectWoo(s).on("change",o)},addNewPage:function(e){var a=!!e.params.new_page&&e.params.new_page;a&&new i({$target:t(".kirki-input-container",e.container),id:this.$list.attr("data-id"),placeholder:a.placeholder||"",button_text:a.button_text||"",new_link:a.new_link||"",$list:this.$list,action:"create_new_page",cb:this.handleNewPage})},handleNewPage:function(e,a){t(this.$list).append(new Option(a,e,!0,!0)).trigger("change")}}}),e.controlConstructor.repeater=e.controlConstructor.repeater.extend({ready:function(){var e=this;!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)?kirkiControlLoader(e):e.initKirkiControl(),this.initDependencies(e),this.initCssClasses(e)},initCssClasses:function(e){if(!e.type||"repeater"!==e.type){var a=function(a){if(e.params.fields){var i=e.params.fields;t.isEmptyObject(i)||(a=a||e.container,t.each(i,(function(e,i){if(i.condition&&!t.isEmptyObject(i.condition)){var n=t(".repeater-field.repeater-field-"+e,a);i.css_class&&n.addClass(i.css_class)}})))}};a(),e.container.on("row:new",(function(e,t){a(t.container)}))}},initDependencies:function(e){if("undefined"!=typeof kirkiDependencies&&(!e.type||"repeater"!==e.type)&&e.params.fields&&!t.isEmptyObject(e.params.fields)){var a=function(a){a=a||t(".repeater-row",e.container),t.each(e.params.fields,(function(e,i){if(i.condition){var n=i.condition;if(!t.isEmptyObject(n)){var r=t(".repeater-field.repeater-field-"+e,a),s=[];t.each(n,(function(e,i){var n=t('[data-field="'+i.setting+'"]',a),r=n.val();n.is('[type="checkbox"]')&&(r=n.prop("checked"));var o=kirkiDependencies.evaluate(i.value,r,i.operator);s.push(o)}));var o=s.every((function(e){return!0===e}));r.toggleClass("hidden",!o)}}}))};a(),t(e.container).on("change","input, select",(function(e){a(t(this).closest(".repeater-row"))})),e.container.on("row:new",(function(e,t){a(t.container)}))}},initSelect:function(e,a){var i=this,n=[],r=function(){e.container.find(".repeater-field select").each((function(r,s){var o=t(s),c=o.attr("data-field"),l=o.attr("data-multiple")||0,d={};l&&(d.maximumSelectionLength=parseInt(l),o.closest(".repeater-field-select").addClass("--multiple")),(a=a||{})[c]=a[c]||"";var u=i.params.fields[c],p=u.query_args||{};if(t.isEmptyObject(p))l&&t(s).selectWoo(d).val(t(s).val());else{o.closest(".repeater-field-select").addClass("--ajaxfield"),n[e.rowIndex]=!1;var h={escapeMarkup:function(e){return e}};if(u.placeholder&&(h.placeholder=u.placeholder,h.allowClear=!0),1<l&&(h.maximumSelectionLength=l),h.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:p,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},h.minimumInputLength=2,!n[e.rowIndex]){var m=a[c]||{},f=o.closest(".repeater-field");if(!t.isEmptyObject(m))return f.addClass("--ajax --loading"),void t.post({url:reyCoreAdmin.ajax_url,data:{query_args:u.query_args,values:m,action:"rey_select_control_value_titles",security:reyCoreAdmin.ajax_nonce},success:function(a){n[e.rowIndex]=!0,h.data=[],a&&"object"==typeof a&&!t.isEmptyObject(a)&&_.each(a,(function(e,t){h.data.push({id:t,text:e,selected:!0})})),t(s).selectWoo(h).val(t(s).val()),f.removeClass("--loading")}})}t(s).selectWoo(h).val(t(s).val())}}))};r(),e.container.on("click",".repeater-row-header",(function(e){!t(this).closest(".repeater-row").hasClass("minimized")&&r()})),i.container.on("change",".repeater-field select",(function(e){var a=t(e.target),n=a.closest(".repeater-row").data("row"),r=i.getValue();r[n][a.data("field")]=t(this).val(),i.setValue(r)}))},initAjaxSelect:function(a){var i=!1;selector=selector||'select[data-id="'+a.id+'"]';var n=parseInt(t(selector).data("multiple"),10),r={escapeMarkup:function(e){return e}},s=function(){var e=t(this).val();e=null===e&&1<n?[]:e,a.setting.set(e)};if(a.params.placeholder&&(r.placeholder=a.params.placeholder,r.allowClear=!0),1<n&&(r.maximumSelectionLength=n),a.params.query_args&&!t.isEmptyObject(a.params.query_args)&&(r.ajax={url:reyCoreAdmin.ajax_url,data:function(e){return{q:e.term,query_args:a.params.query_args,action:"rey_select_control_filter_autocomplete",security:reyCoreAdmin.ajax_nonce}},delay:250,cache:!0},r.minimumInputLength=2,!i)){var o=e(a.id).get(),c=a.params.query_args,l=t(selector).closest(".customize-control");if(!o||!c)return;return l.addClass("--ajax --loading"),void t.post({url:reyCoreAdmin.ajax_url,data:{query_args:c,values:o,action:"rey_select_control_value_titles",security:reyCoreAdmin.ajax_nonce},success:function(e){i=!0,r.data=[],e&&"object"==typeof e&&!t.isEmptyObject(e)&&_.each(e,(function(e,t){r.data.push({id:t,text:e,selected:!0})})),t(selector).selectWoo(r).on("change",s),l.removeClass("--loading")}})}t(selector).selectWoo(r).on("change",s)}}))}}(wp.customize,jQuery),function(e){"use strict";var t={allItems:[],itemsNotInUse:[],categories:{},keywordsMap:{all:[]},init:function(){this.wrapper=document.querySelector(".rey-itemManager-wrapper"),this.wrapper&&(this.container=this.wrapper.querySelector(".rey-itemManager"),this.items=this.container.querySelectorAll(".rey-itemManager-item[data-item]"),this.$container=e(".rey-itemManager",this.wrapper),this.$items=e(".rey-itemManager-item[data-item]",this.$container),this.$scanBtn=e(".elManager-scanButton",this.wrapper),this.$scanBtnperc=e(".__perc",this.$scanBtn),this.$disableUnusedBtn=e(".elManager-disableUnused",this.wrapper),this.$activateAll=e(".elManager-activateAll",this.wrapper),this.$deactivateAll=e(".elManager-deactivateAll",this.wrapper),this.$header=e(".rey-itemManager-header",this.wrapper),this._type=this.wrapper.getAttribute("data-type"),this.scannedItems="rey_scanned_items_"+this._type,this.$search=e(".rey-itemManager-search input[type='search']",this.wrapper),this.$filterMenu=e(".rey-itemManager-filterMenu",this.wrapper),this.$items.each((function(e,a){var i=a.getAttribute("data-item");t.allItems.push(i),t.keywordsMap.all.push(i);var n=a.getAttribute("data-keywords");n&&JSON.parse(n||"{}").forEach((e=>{t.keywordsMap[e]||(t.keywordsMap[e]=[]),t.keywordsMap[e].push(i)}))})),e('.rey-itemManager-filterMenu[data-type="category"] a:not([data-key="all"])',this.wrapper).each((function(){t.categories[this.getAttribute("data-key")]=parseInt(this.getAttribute("data-count")||0)})),this.events())},events:function(){var a=this;e(".rey-toggleSwitch-label",this.$items).on("click",(function(t){t.preventDefault();var a=e(this).closest(".rey-itemManager-item"),i=e('input[type="checkbox"]',a);a.is("[data-status='enabled']")?i.prop("checked",!1).trigger("change"):i.prop("checked",!0).trigger("change")})),e('input[type="checkbox"]',this.$items).on("change",(function(i){var n=e(i.target),r=n.closest(".rey-itemManager-item"),s=r.attr("data-item");r.addClass("--disabled");var o=n.prop("checked");rey.ajax.request("change_item_status_"+a._type,{data:{status:o,item:s},cb:function(e){e&&e.data&&(o?(r.attr("data-status","enabled"),n.prop("checked",!0)):(r.attr("data-status","disabled"),n.prop("checked",!1))),r.removeClass("--disabled"),t.updateCounters()}})})),this.$scanBtn.on("click",(function(t){t.preventDefault();var i=e(this),n=rey.util.ls.get(a.scannedItems);if(n)return a.itemsNotInUse=n,void a.finishedScanning();a.lockClicks(),i.addClass("--loading"),a.$items.removeClass("--not-in-use"),a.runScan()})),this.$disableUnusedBtn.on("click",(function(t){t.preventDefault();var i=e(this);a.lockClicks(),i.addClass("--loading"),rey.ajax.request("disable_unused_items_"+a._type,{data:{items:a.itemsNotInUse},cb:function(e){e&&e.success&&(i.children("span:first-child").text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3),a.unlockClicks())}})})),this.$activateAll.on("click",(function(t){t.preventDefault();var i=e(this);a.lockClicks(),i.addClass("--loading"),rey.ajax.request("activate_all_"+a._type,{cb:function(e){e&&e.success&&e.data&&a.runActDeact(i)}})})),this.$deactivateAll.on("click",(function(t){t.preventDefault();var i=e(this);a.lockClicks(),i.addClass("--loading"),rey.ajax.request("deactivate_all_"+a._type,{cb:function(e){e&&e.success&&a.runActDeact(i)}})}));var i=()=>{this.$header.toggleClass("--sticked",window.pageYOffset>0)};e(window).on("scroll",i),i(),this.$search.on("input",_.debounce((function(a){var i=a.target.value,n=new RegExp(i,"gi");if(t.$container.removeClass("--filtering").addClass("--searching"),t.$container.children("h2").removeClass("--empty"),t.$items.removeClass("--visible"),""===i)return t.$container.removeClass("--searching"),void t.$container.children("h2");e.each(t.$items,(function(t,a){var i=e(a),r=e("h2",i).text(),s=e(".rey-itemManager-itemDesc",i).text();(r.match(n)||s.match(n))&&i.addClass("--visible")})),t.checkCategories()}),200));var n=!1;e(document).on("click",(function(t){if(t.target.closest(".elManager-toggleButtons-icon")){t.preventDefault();var a=e(".elManager-toggleButtons");n?(a.removeClass("--active"),n=!1):(a.addClass("--active"),n=!0)}else n&&(e(".elManager-toggleButtons").removeClass("--active"),n=!1)})),this.filters={},e(document).on("click",".rey-itemManager-filterMenu a",(function(a){a.preventDefault();var i=e(this);if(!i.hasClass("current")){var n=i.closest(".rey-itemManager-filterMenu");e("a",n).removeClass("current"),i.addClass("current");var r=n.attr("data-type");t.filters[r]=i.attr("data-key"),t.runFilters()}})),e(document).on("click",".rey-itemManager-keywordsMenu a",(function(e){e.preventDefault();var a=e.currentTarget.getAttribute("data-key");if(a&&void 0!==t.keywordsMap[a]&&!e.currentTarget.classList.contains("current"))if(t.container.classList.remove("--filtering"),e.currentTarget.closest("ul").querySelectorAll("a").forEach((e=>{e.classList.remove("current")})),e.currentTarget.classList.add("current"),"all"!==a){t.items.forEach((e=>{e.classList.remove("--visible")}));var i=[];t.keywordsMap[a].forEach((e=>{i.push(`[data-item="${e}"]`)})),t.container.classList.add("--filtering"),t.container.querySelectorAll(i.join(",")).forEach((e=>{e.classList.add("--visible")}))}else t.items.forEach((e=>{e.classList.add("--visible")}))}))},runFilters:function(){this.$items.removeClass("--visible");var e="";Object.keys(this.filters).forEach((function(a){var i=t.filters[a];"all"!==i&&(e+=`[data-${a}="${i}"]`)})),e=e||"[data-item]",this.$items.filter(e).addClass("--visible"),this.$container.removeClass("--searching").addClass("--filtering"),this.checkCategories()},checkCategories:function(){e("h2",t.$container).removeClass("--empty"),e.each(this.categories,((a,i)=>{i===t.$items.filter('[data-category="'+a+'"]:not(.--visible)').length&&e('h2[data-value="'+a+'"]',t.$container).addClass("--empty")}))},updateCounters:function(){if(this.$filterMenu.length){var t=parseInt(e('a[data-key="all"]',this.$filterMenu).attr("data-count")||0);if(t){var a=e('.rey-itemManager-item:not([data-key="enabled"])',this.$container).length;e('a[data-key="disabled"]',this.$filterMenu).attr("data-count",a),e('a[data-key="enabled"]',this.$filterMenu).attr("data-count",t-a)}}},runActDeact:function(e){this.unlockClicks(),localStorage.removeItem(this.scannedItems),e.children("span:first-child").text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3)},runScan:function(t){var a=this;t=t||0;var i=Math.floor(100/a.allItems.length*(t+1));i>100&&(i=100),this.$scanBtnperc.text(i),rey.ajax.request("scan_unused_items_"+this._type,{data:{item:this.allItems[t]},cb:function(i){i&&i.success&&(!1===i.data&&(-1===a.itemsNotInUse.indexOf(t)&&a.itemsNotInUse.push(a.allItems[t]),e('.rey-itemManager-item[data-item="'+a.allItems[t]+'"]',a.$wrapper).addClass("--not-in-use")),a.allItems.length>t+1?a.runScan(t+1):(a.unlockClicks(),a.finishedScanning(!0)))}})},finishedScanning:function(t){var a=this;this.$scanBtn.removeClass("--loading"),this.itemsNotInUse.length&&(t?rey.util.ls.set(this.scannedItems,this.itemsNotInUse,12e4):e.each(this.itemsNotInUse,(function(t,i){e('.rey-itemManager-item[data-item="'+i+'"]',a.$wrapper).addClass("--not-in-use")})),this.$disableUnusedBtn.text(this.$disableUnusedBtn.text().replace("{{count}}",this.itemsNotInUse.length)).show())},lockClicks:function(){this.wrapper.classList.add("--locked")},unlockClicks:function(){this.wrapper.classList.remove("--locked")},diff:function(e,t){for(var a=[],i=[],n=0;n<e.length;n++)a[e[n]]=!0;for(n=0;n<t.length;n++)a[t[n]]?delete a[t[n]]:a[t[n]]=!0;for(var r in a)i.push(r);return i}};t.init()}(jQuery),function(e){"use strict";e(".js-rey-copy-code").on("click",(function(t){t.preventDefault();var a=e(t.currentTarget),i=(e(a).text(),e(a).next("pre").text()),n=e("<input>");e("body").append(n),n.val(i).select(),document.execCommand("copy"),n.remove(),a.closest(".rey-codeBlock").addClass("is-copied")})),!_.isUndefined(reyCoreAdmin.back_btn_text)&&_.isUndefined(reyCoreAdmin.back_btn_url)&&e(".post-type-rey-global-sections.post-php a.page-title-action").after((function(){return'<a class="rey-gs-back-button" href="'+reyCoreAdmin.back_btn_url+'">'+reyCoreAdmin.back_btn_text+"</a>"}));var t,a,i=!1;window.onbeforeunload=function(){if(i)return"Import is in progress!"},e(".js-rey-refresh-demos").on("click",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading").text(reyCoreAdmin.strings.refreshing_btn_text),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"rey_refresh_demos",security:reyCoreAdmin.ajax_nonce},success:function(e){e&&1==e.success&&(a.text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3))},error:function(e,t,i){a.removeClass("--loading").text(reyCoreAdmin.strings.refresh_demos_error),console.error(e),console.error(t),console.error(i)}})})),e(document).on("ocdiImportComplete",(function(){var t=new Audio(reyCoreAdmin.sound_effect);t.oncanplay=function(){t.play()},e(".js-ocdi-ajax-response").length&&e("html, body").animate({scrollTop:e(".js-ocdi-ajax-response").offset.top})})),rey.frontend.inView({target:".__admin-lazy-img",once:!0,cb:function(e){e.target.setAttribute("src",e.target.getAttribute("data-src")),e.target.classList.add("--loaded")}}),e(document).on("ocdiImportComplete",(function(t){var a=e(".js-ocdi-ajax-response");a.append('<div class="notice notice-success"><p>'+reyCoreAdmin.ocdi_strings.visit_site+"</p></div>"),i=!1,e("body").removeClass("rey-is-importing"),document.title=reyCoreAdmin.ocdi_strings.title_done,e(".notice.notice-warning p",a).each((function(t,i){-1!=i.textContent.toLowerCase().indexOf("error: widget import")&&(i.remove(t),e(".notice.notice-warning:empty",a).remove())}))})),e(document).on("reycore/ocdi/failed_import ",(function(t){e(".js-ocdi-ajax-response").append('<div class="notice notice-error is-dismissible"><p>'+reyCoreAdmin.ocdi_strings.seek_help+"</p></div>"),i=!1,e("body").removeClass("rey-is-importing"),document.title=reyCoreAdmin.ocdi_strings.title_done})),e(document).on("reycore/ocdi/import_demo",(function(t,a,n,r,s,o){i=!0,document.title=reyCoreAdmin.ocdi_strings.title_importing;var c=function(){r.dialog("close"),e.ocdiGridLayoutImport(a,n),e("body").addClass("rey-is-importing")},l=reyAdminParams&&reyAdminParams.tgmpa&&2==reyAdminParams.tgmpa,d=[],u=new URL(window.location.href).searchParams.get("page")||"",p=e("#js-plugin-dep--"+o[a].slug).find('input[type="checkbox"]');if(p.length){p.each((function(t,a){e(a).prop("checked")&&d.push(e(a).val()),e(a).prop("disabled",!0)})),s.addClass("disabled"),s.prev(".ui-button").addClass("disabled"),r.closest(".wp-dialog--rey").find(".ui-dialog-titlebar-close").hide(300),r.dialog("option","closeOnEscape",!1),e(".rey-pluginDeps input:checked",r).closest("li").addClass("--is-installing"),r.append("<p class='reyAdmin-response reyAdmin-notice --info'>"+reyCoreAdmin.ocdi_strings.installing_plugins_text+"</p>");var h=!0,m=function(){var t={method:"post",url:reyCoreAdmin.ajax_url,dataType:"text",cache:!1,data:{action:"rey_install_plugin_dependencies",security:reyCoreAdmin.ajax_nonce,plugins:d,page:u},success:function(t){var a=function(e){if(l)return e;var t=/{("success"[^}]+)}/g.exec(e);return!(!t||!t.length)&&JSON.parse(t[0])}(t);a?(a.success&&!0===a.success&&!1!==a.data?(e(".rey-pluginDeps li[data-slug='"+a.data+"']",r).hide(400),m()):(e(".reyAdmin-response",r).text(reyCoreAdmin.ocdi_strings.finished_installing_plugins),setTimeout((function(){c()}),1e3)),h=!1):(s.removeClass("loading"),e(".reyAdmin-response",r).remove(),r.append("<p class='reyAdmin-response reyAdmin-notice --error'>"+a.data+"</p>"))},error:function(t,a,i){e(".reyAdmin-response",r).remove(),r.append("<p class='reyAdmin-response reyAdmin-notice --error'>"+reyCoreAdmin.ocdi_strings.something_went_wrong+"</p>")}};h&&(t.data.first=!0),l&&(t.dataType="json"),e.ajax(t)};m()}else c()})),t=e("#tmpl-customize-control-kirki-toggle-content"),a=(a=t.text()).replace("screen-reader-text","screen-reader-text-reyToggle"),t.text(a);var n,r=function(t){var a=this;this.init=function(){t&&(this.config=e.extend({scope:"","condition-attribute":"data-condition"},t),this.config.scope&&e(this.config.scope).length&&(this.checkConds(),e("input, select",this.config.scope).on("change",(function(e){a.checkConds()}))))},this.checkConds=function(){var t=this;e("["+this.config["condition-attribute"]+"]",this.config.scope).each((function(a,i){var n=e(i),r=JSON.parse(n.attr(t.config["condition-attribute"])||"{}"),s=[];if(!e.isEmptyObject(r)){e.each(r,(function(a,i){var n=e('[name="'+i.name+'"]',t.config.scope),r=n.val();n.is('[type="checkbox"]')&&(r=n.prop("checked")),s.push(t.evaluateCondition(i.value,r,i.compare))}));var o=s.every((function(e){return!0===e}));n.toggleClass("hidden",!o)}}))},this.evaluateCondition=function(e,t,a){if("==="===a)return e===t;if("=="===a||"="===a||"equals"===a||"equal"===a)return e==t;if("!=="===a)return e!==t;if("!="===a||"not equal"===a)return e!=t;if(">="===a||"greater or equal"===a||"equal or greater"===a)return t>=e;if("<="===a||"smaller or equal"===a||"equal or smaller"===a)return t<=e;if(">"===a||"greater"===a)return t>e;if("<"===a||"smaller"===a)return t<e;if("contains"===a||"in"===a){if(_.isArray(e)&&_.isArray(t))return _.each(t,(function(t){if(e.includes(t))return found=!0,!1})),found;if(_.isArray(t))return _.each(t,(function(t){t==e&&(found=!0)})),found;if(_.isObject(t))return _.isUndefined(t[e])||(found=!0),_.each(t,(function(t){e===t&&(found=!0)})),found;if(_.isString(t))return _.isString(e)?-1<e.indexOf(t)&&-1<t.indexOf(e):-1<e.indexOf(t)}return"!contains"===a||"does not contain"===a||"not in"===a?!this.evaluateCondition(e,t,"contains"):e==t},this.init()},s=function(){e("[data-rey-controls]").each((function(){var t=e(this),a=JSON.parse(t.attr("data-rey-controls")||"{}");if(!e.isEmptyObject(a)){var i=!1;if(a["form-scope"]){var n=e(a["form-scope"]);n.length&&(i=n.is("form")?n:n.closest("form"))}else t.is("form")&&(i=t);i&&new r({scope:i,"condition-attribute":a["condition-attribute"]})}}))},o=function(t){this.init=function(){this.scope=t||e("#widgets-right .widget-content"),this.dependencies(),this.priceFilterWidget(),this.repeaterField(),this.makeTabs(),this.makeTitle()},this.dependencies=function(){this.scope.each((function(){new r({scope:this})}))},this.makeTabs=function(){e(".rey-widgetTabs-wrapper",this.scope).each((function(t,a){var i=e(a),n=e(".rey-widgetTabs-buttons span",i),r=e(".rey-widgetTabs-tabContent",i);n.on("click",(function(t){t.preventDefault();var a=e(this).attr("data-tab");n.removeClass("--active"),r.removeClass("--active"),e(this).addClass("--active"),e('.rey-widgetTabs-tabContent[data-tab="'+a+'"]',i).addClass("--active")}))}))},this.makeTitle=function(){e(".rey-widgetToTitle",this.scope).each((function(t,a){var i=e(a),n=e(a).closest(".widget").find(".widget-title h3");e("<span/>").addClass(i.attr("data-class")||"").html(i.html()).appendTo(n)}))},this.repeaterField=function(){e(".rey-widgetRepeater-add",this.scope).on("click",(function(t){var a=e(this).closest(".rey-widgetRepeater-wrapper"),i=e(".rey-widgetRepeater-listWrapper",a),n=wp.template("rey-"+i.attr("data-id"))({int:parseInt(e(".rey-widgetRepeater-list.--default",i).last().attr("data-key")||10)+1});i.append(n)})),e(document).on("click",".rey-widgetRepeater-remove",(function(t){var a=e(this);a.closest(".rey-widgetRepeater-listWrapper");a.parent().hide().remove()}))},this.priceFilterWidget=function(){var t=this;e(".rey-widgetRangePoints-add",this.scope).on("click",(function(t){var a=e(this).closest(".rey-widgetRangePoints-wrapper"),i=e(".rey-widgetRangePoints-listWrapper",a),n=wp.template("rey-"+i.attr("data-id"))({int:parseInt(e(".rey-widgetRangePoints-list.--default",i).last().attr("data-key")||10)+1});i.append(n)})),e(document).on("click",".rey-widgetRangePoints-remove",(function(t){var a=e(this);a.closest(".rey-widgetRangePoints-listWrapper");a.parent().hasClass("--start")||a.parent().hasClass("--end")||a.parent().hide().remove()})),e.each(["start","end"],(function(a,i){e(".rey-widgetRangePoints-add-"+i,t.scope).on("click",(function(t){t.preventDefault();var a=e(this).closest(".rey-widgetRangePoints-wrapper"),n=e(".rey-widgetRangePoints-list.--"+i,a);n.removeClass("--hidden"),e('input[type="hidden"]',n).val("1"),e(this).addClass("--inactive")})),e(document).on("click",".rey-widgetRangePoints-list.--"+i+" .rey-widgetRangePoints-remove",(function(a){a.preventDefault();var n=e(this);n.parent().addClass("--hidden"),e('input[type="hidden"]',n.parent()).val(""),e(".rey-widgetRangePoints-add-"+i,t.scope).removeClass("--inactive")}))}))},this.init()},c=function(){var t="#widgets-only-visible-terms--",a=[],i=e(".wp-admin.widgets-php #widgets-right"),n=e('a[href^="'+t+'"]',i);n.each((function(r,s){var o=e(s).attr("href").split("--");a.push(o[1]),n.length-1===r&&e.post({url:reyCoreAdmin.ajax_url,data:{term_ids:a,action:"rey_custom_sidebars_links",security:reyCoreAdmin.ajax_nonce},success:function(a){"object"!=typeof a||a.error||e.each(a,(function(a,n){var r=e('a[href^="'+t+a+'"]',i);r.length&&r.attr({href:n,target:"_blank"})}))}})}))};e(document).on("widget-added widget-updated",(function(e,t){new o(t)})),e(document).ready((function(){new o,new c,new s})),void 0!==(n=wp.customize)&&n.bind("ready",(function(){n.section.each((function(e){"widgets"===e.params.panel&&e.expanded.bind((function(e){e&&new o}))}))})),e(".js-toggle-ocdi-settings").on("change",(function(t){var a=e(t.target),i=a.closest(".rey-toggleSwitch"),n=a.attr("data-setting");i.addClass("--disabled"),e.ajax({method:"post",url:reyCoreAdmin.ajax_url,data:{action:"change_ocdi_setting",security:reyCoreAdmin.ajax_nonce,status:a.prop("checked"),setting:n},success:function(e){e&&e.data&&a.prop("checked",e.data),i.removeClass("--disabled")},error:function(e,t,a){console.error(e),console.error(t),console.error(a)}})})),e(".js-rey-demos-adjust-settings").on("click",(function(t){t.preventDefault(),e(this).parent().find(".rey-demosImportSettings").toggleClass("--hidden")})),e(".reyAdm-notice").each((function(){var t=e(this),a=t.attr("data-key");if(a){var i="reycore-dismissed-"+a;rey.util.ls.get(i)&&!0===rey.util.ls.get(i)||t.addClass("--visible"),e(".reyAdm-noticeDismiss[data-dismiss]",t).on("click",(function(a){a.preventDefault();var n=e(this),r=n.attr("data-dismiss");"1day"===r?(t.removeClass("--visible"),rey.util.ls.set(i,!0,864e5)):"always"===r&&(t.css({opacity:".8","pointer-events":"none"}),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:n.attr("data-action"),security:reyCoreAdmin.ajax_nonce},success:function(e){e&&1==e.success?t.removeClass("--visible"):t.css({opacity:"","pointer-events":""})},error:function(e,a,i){t.css({opacity:"","pointer-events":""})}}))}))}})),e(document).on("click",".rey-whatsNew .__never-show",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading disabled"),rey.ajax.request("whatsnew_page_visibility",{cb:function(e){e&&e.success&&(!e.data||e.data&&e.data.error?a.text("Error! Check console."):(a.text("Done! Redirecting to dashboard.."),setTimeout((function(){window.location.href=reyAdminParams.dashboard_url}),2e3)))}})})),e(document).on("click",".rey-whatsNew .__hide-until-next",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading disabled"),rey.ajax.request("whatsnew_hide_until_next_major",{cb:function(e){e&&e.success&&(!e.data||e.data&&e.data.error?a.text("Error! Check console."):(a.text("Done! Redirecting to dashboard.."),setTimeout((function(){window.location.href=reyAdminParams.dashboard_url}),2e3)))}})})),e(".js-ig-refresh-token").on("click",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading").text(reyCoreAdmin.strings.refreshing_btn_text),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"rey_refresh_ig_token",security:reyCoreAdmin.ajax_nonce},success:function(e){e&&1==e.success&&(a.text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3))}})})),e(".js-ig-migrate-token").on("click",(function(t){t.preventDefault();var a=e(this);a.addClass("--loading").text(reyCoreAdmin.strings.migrating_btn_text),e.ajax({url:reyCoreAdmin.ajax_url,cache:!1,data:{action:"rey_migrate_ig_token",security:reyCoreAdmin.ajax_nonce},success:function(e){e&&e.success&&(a.text(reyCoreAdmin.strings.reloading),setTimeout((function(){location.reload()}),1e3))}})}));var l=function(){localStorage.setItem("reycore/infinite_cleanup",!0)};e(".wp-admin #post").on("submit",l),wp&&wp.customize&&wp.customize.bind("save",l);var d;d={},e(document).on("mouseenter",".rey-previewIframe",(function(e){var t=e.currentTarget,a=t.getAttribute("data-id");if(!t.getAttribute("data-loaded")){var i=t.querySelector("iframe");i&&(d[a]=setTimeout((function(){var e=i.getAttribute("data-src");i.setAttribute("src",e),i.addEventListener("load",(function(){t.classList.add("--loaded"),t.setAttribute("data-loaded","")}))}),300))}})).on("mouseleave",".rey-previewIframe",(function(e){var t=e.currentTarget,a=t.getAttribute("data-id");t.getAttribute("data-loaded")||clearTimeout(d[a])}));new function(){this.init=function(){this.wrapper=document.getElementById("migrations-scripts"),this.wrapper&&(this.select=this.wrapper.querySelector("select"),this.button=this.wrapper.querySelector(".rey-adminBtn"),this.responseWrapper=this.wrapper.querySelector(".__response"),this.events())},this.events=function(){this.select.addEventListener("change",(e=>{this.button.classList.toggle("--disabled",!e.target.value)})),this.button.addEventListener("click",(e=>{if(e.preventDefault(),this.select.value){var t=this.select.querySelector(`option[value="${this.select.value}"]`).textContent||this.select.value;confirm(`Are you sure you want to run the "${t}" script?`)&&(this.button.classList.add("--disabled","--loading"),rey.ajax.request("migrations",{data:{script:this.select.value},params:{cache:!1},cb:e=>{e.data.error?console.log(e.data.error):(this.button.classList.remove("--loading"),this.button.textContent=e.data)}}))}}))},this.init()},e('#toplevel_page_rey-dashboard a[href*="customize.php"]').attr("target","_blank")}(jQuery),jQuery;