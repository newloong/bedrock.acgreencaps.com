!function(e){"use strict";var t=function(){this.init=function(){this.misc(),this.missingGs(),this.GStoElementorMenu(),this.pageOverridesPopover()},this.missingGs=function(){e(".rey-missingGs").each((function(){var t=e(this);if(t.length&&"undefined"!=typeof rey){var i="rey-missing-gs",n=rey.util.ls.get(i);t.on("click",'a[href="#"]',(function(t){t.preventDefault();var s,r,a=e(this).closest(".rey-missingGs");s=a.attr("data-id"),n?-1===(r=n).indexOf(s)&&r.push(s):r=[s],r&&rey.util.ls.set(i,r,rey.util.expiration.month),a.removeClass("--visible")})),n?-1===n.indexOf(t.attr("data-id"))&&t.addClass("--visible"):t.addClass("--visible")}}))},this.misc=function(){e(document).on("click",".js-rey-gs-editSection__url",(function(t){window.parent.open(e(t.currentTarget).attr("href"),"_blank")})),e(".rey-openPageSettings").on("click",(function(e){e.preventDefault(),"undefined"!=typeof elementor&&elementor.getPanelView().setPage("page_settings").activateTab("settings")})),e(document).on("click",".rey-pbTemplate--gs-notice.elementor-edit-area a",(function(t){window.open(e(this).attr("href"),"_blank").focus()}))},this.GStoElementorMenu=function(){if("undefined"!=typeof rey){var t=function(t){this.init=function(){if(this.scope=t||document,this.$gs=e("div[data-elementor-id]",this.scope),(this.$gs.length||(this.$gs=e(this.scope).is("div[data-elementor-id]")?e(this.scope):[],this.$gs.length))&&(this.$elSiteSettings=e("#wp-admin-bar-elementor_site_settings"),this.$elSiteSettings.length)){var i="wp-admin-bar-elementor_edit_doc_";this.$gs.each(((t,n)=>{var s=e(n),r=s.attr("data-elementor-id");if(r&&rey.vars.page_id!=r&&!e("#"+i+r).length&&reyParams.elementor_edit_url){var a=reyParams.elementor_edit_url.replace("{{PID}}",r),o=s.attr("data-elementor-gstype");if(o){var d=o.charAt(0).toUpperCase()+o.slice(1),l=o?'<span class="elementor-edit-link-type">'+d+"</span>":"",h=s.attr("data-elementor-name");e(`<li id="${i}${r}" class="elementor-general-section"><a class="ab-item" target="_blank" href="${a}"><span class="elementor-edit-link-title">${h||"Elementor Post #"+r}</span>${l}</a></li>`).insertBefore(this.$elSiteSettings)}}}))}},this.init()};new t,rey.hooks.addAction("reycore/ajax_response",(function(e,i){if(i.data&&i.data[e]&&i.data[e].data){var n=i.data[e].data;/<\/?[a-z][\s\S]*>/i.test(n)&&new t(n)}}))}},this.pageOverridesPopover=function(){e(document).on("click",".rey-simplePopover.--lazy",(function(t){t.preventDefault();var i=e(this),n=i.parent(".elementor-element").attr("data-lazy-load",i.attr("data-lazy-load"));n.length&&rey.hooks.doAction("elementor/element/lazy_load/popover_clean",n[0]),i.remove()}));new function(){var t=this;this.init=function(){this.$popover=e(".__ps-popover"),this.$popover.length&&(this.copyOverridesAttr(),this.events())},this.copyOverridesAttr=function(){rey&&rey.elements&&rey.elements.header&&rey.elements.header.setAttribute("data-overrides",this.$popover.attr("data-overrides"))},this.events=function(){e(".js-hide",this.$popover).off("click").on("click",(function(e){e.preventDefault(),t.$popover.remove(),rey.ajax.request("disable_page_settings_popover",{data:{type:t.$popover.attr("data-type"),page_id:t.$popover.attr("data-id")}})}))},this.init()}},this.init()};e(document).ready((function(e){new t})),window.addEventListener("elementor/frontend/init",(function(){new function(){this.dragging=!1,this.startX,this.initialWidth,this.handlerElement,this.newWidth,this.init=function(){"undefined"!=typeof rey&&rey.vars.elementor_edit_mode&&document.body.classList.contains("single-rey-global-sections")&&(this.wrapper=document.querySelector(".rey-pbTemplate--gs"),this.wrapper&&(this.leftHandler=this.wrapper.querySelector('.__gs-resize[data-pos="left"]'),this.rightHandler=this.wrapper.querySelector('.__gs-resize[data-pos="right"]'),this.events()))},this.events=function(){this.leftHandler&&this.rightHandler&&(this.leftHandler.addEventListener("mousedown",this.handleMouseDown),this.rightHandler.addEventListener("mousedown",this.handleMouseDown))},this.handleMouseDown=e=>{this.dragging=!0,this.startX=e.clientX,this.initialWidth=parseFloat(getComputedStyle(this.wrapper,null).width.replace("px","")),this.handlerElement=e.target,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},this.handleMouseUp=()=>{this.dragging=!1,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.wrapper.classList.remove("--resizing"),this.updateSetting()},this.updateSetting=function(){if(elementor&&elementor.settings&&elementor.settings.page){var e={size:this.newWidth,sizes:[],unit:"px"};elementor.settings.page.model.set("gs_preview_width",e),elementor.settings.page.addChangeCallback("gs_preview_width",(function(e){document.body.removeAttribute("style")}))}},this.handleMouseMove=e=>{if(!this.dragging)return;let t=e.clientX-this.startX;this.handlerElement===this.leftHandler&&(t=-t),this.newWidth=this.initialWidth+t,this.newWidth>=140&&document.body.style.setProperty("--gs-preview-width",this.newWidth+"px"),this.wrapper.classList.add("--resizing")},this.init()}}))}(jQuery);