!function(){"use strict";class e{constructor(e){this.app=e,void 0!==window.CI360&&this.init()}init(){this.app.events.inView.image360=e=>{e.target.classList.contains("--image-360")&&!e.target.classList.contains("--is-init")&&(window.CI360.init(),e.target.classList.add("--is-init"))},this.app.elements.gallery.querySelectorAll(".rey-gallery-360-mobile-icon").forEach((e=>{e.addEventListener("click",this.handleMobileClick.bind(this))})),this.app.elements.gallery.querySelectorAll(".--image-360 .__fullscreen-icon").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),void 0!==window.CI360._viewers&&window.CI360._viewers.length&&window.CI360._viewers[0].openFullScreenModal.call(window.CI360._viewers[0])}))}))}handleMobileClick(e){e.preventDefault();var i=e.currentTarget.closest(".--image-360").querySelector(".cloudimage-360 canvas + div");i&&i.dispatchEvent(new Event("click"))}}document.addEventListener("rey/pdpGallery/beforeComponents",(function(i){new e(i.detail.app)}))}();