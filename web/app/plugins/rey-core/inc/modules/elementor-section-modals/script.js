!function(e){"use strict";var t=function(t){var o=this;this.didShow=!1,this.init=function(){if(this.element=t,this.config=JSON.parse(this.element.getAttribute("data-rey-modal-splash")||"{}"),(!this.config.elements_to_prevent||!this.element.querySelectorAll(this.config.elements_to_prevent).length)&&(this.modalID=this.element.getAttribute("data-rey-modal-id"),!rey.util.ls.get(this.modalID)&&this.maybeRunOnNth()))return this.onLoad(),this.onScroll(),this.onExit(),this},this.onScroll=function(){if("scroll"===this.config.type&&this.config.distance){var t=document.documentElement,i=Math.max(document.body.scrollHeight,document.body.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),n=parseInt(this.config.distance)/100*i;!o.didShow&&t.clientHeight+n>i?o.openModal():e(window).on("scroll",(function(e){o.didShow||window.pageYOffset>n&&o.openModal()}))}},this.onExit=function(){"exit"===this.config.type&&e(document).on("mouseleave",(function(e){o.didShow||e.clientY<0&&o.openModal()}))},this.onLoad=function(){"time"===this.config.type&&this.config.time&&(this.didShow||setTimeout((function(){o.openModal()}),1e3*parseInt(this.config.time)))},this.openModal=function(){var e=new ReyModal({linkAttributeName:!1,catchFocus:!1,closeOnEsc:!0,backscroll:!0,beforeOpen:this.beforeOpen,afterClose:this.afterClose}),t={content:this.element};this.modalID&&(t.id=this.modalID.replace("#","").replace(".","")),e.init().open(t)},this.storeNagTreshold=function(e){rey.util.ls.set(this.modalID,!0,e)},this.afterClose=function(e){if(o.didShow=!0,o.config.nag){var t="forever"===o.config.nag?rey.util.expiration.year:rey.util.expiration[o.config.nag];o.storeNagTreshold(t)}},this.beforeOpen=function(e){e.openedWindow.addEventListener("click",(function(t){t.target.closest(".u-close-modal-forever")&&(t.preventDefault(),o.storeNagTreshold(rey.util.expiration.year),e.close())}))},this.maybeRunOnNth=function(){if(!this.config.nth)return!0;var e=parseInt(this.config.nth);if(e<2)return!0;var t=`rey_modal_nth_${this.modalID}`,o=parseInt(localStorage.getItem(t)||0)+1;return localStorage.setItem(t,o),e<=o||void 0},this.init()};document.addEventListener("rey-DOMContentLoaded",(function(e){if("undefined"!=typeof ReyModal&&!document.body.classList.contains("elementor-editor-active")){new ReyModal({linkAttributeName:"data-rey-section-modal",catchFocus:!1,closeOnEsc:!0,backscroll:!0});rey.elements.body.addEventListener("click",(function(e){var t=e.target.closest('a[href^="#modal-"]');if(t&&!document.body.classList.contains("elementor-editor-active")){e.preventDefault();var o=t.getAttribute("href");new ReyModal({linkAttributeName:!1,catchFocus:!1,closeOnEsc:!0,backscroll:!0}).init().open({content:`[data-rey-modal-id="${o}"]`})}})),document.querySelectorAll(".reymodal__section[data-rey-modal-splash]").forEach((function(e,o){new t(e)}))}}))}(jQuery);