!function(){"use strict";var e=function(e){if(this.scope=e,this.wrapper=this.scope.querySelector(".rey-coverNest"),!rey.util.alreadyLoaded(this.wrapper)&&(this.slider=this.scope.querySelector(".splide"),this.topBorder=this.scope.querySelector(".cNest-decorations .cNest-borders .__top"),this.captions=this.scope.querySelectorAll(".cNest-caption"),this.nestLines=this.scope.querySelector(".cNest-nestLines"),!this.slider.classList.contains("is-active"))){var t=JSON.parse(this.wrapper.getAttribute("data-slider-settings")||"{}"),s=this.wrapper.classList.contains("--animated-entrance"),i={type:"scaler"===t.effect?"fade":t.effect,perPage:1,rewind:!0,autoplay:t.autoplay,interval:t.interval,gap:0,arrows:!1,pagination:!1,speed:600};rey.hooks.addAction("rey/slider",((e,s)=>{if(this.slider.isEqualNode(e.element)&&(s.on("move",(e=>{this.captions.forEach(((t,s)=>{t.classList.remove("--active"),s===e&&t.classList.add("--active")}))})),t.customPagination&&this.nestLines)){var i=this.scope.querySelector(t.customPagination+" button");i.addEventListener("mouseenter",(()=>{this.nestLines.classList.add("--decrease-size")})),i.addEventListener("mouseleave",(()=>{this.nestLines.classList.remove("--decrease-size")}))}})),this.loadNest=()=>{this.setTopBorderHeight(),this.wrapper.classList.remove("--loading"),Object.keys(t).length&&(this.splide=rey.components.slider({element:this.slider,config:i,customArrows:t.customArrows,customPagination:t.customPagination}));var e=()=>{this.wrapper.classList.add("--init"),t.autoplay&&(this.splide.slider.options.autoplay=t.autoplay)};if(!s)return rey.elements.body.classList.add("--cNest-active"),void e();var r=anime.timeline({easing:"easeInOutQuart",duration:800,loop:!1,complete:e});r.add({targets:this.wrapper.querySelector(".cNest-loadingBg--1"),scaleX:0}),r.add({targets:this.wrapper.querySelector(".cNest-loadingBg--2"),scaleX:0,complete:function(e){rey.elements.body.classList.add("--cNest-active")}},"-=300"),this.nestLines&&r.add({targets:this.wrapper.querySelectorAll(".cNest-nestLines svg path"),strokeDashoffset:[anime.setDashoffset,0],strokeWidth:[2,parseInt(this.nestLines.getAttribute("data-stroke"))||20],delay:function(e,t){return 100*t}})},this.setTopBorderHeight=()=>{rey.elements.header&&(this.topBorder.style.height=rey.elements.header.offsetHeight+"px")},rey.util.imagesLoaded(this.wrapper,(()=>{setTimeout((()=>{this.loadNest()}),t.delayInit)})),this.captions.length&&this.captions[0].classList.add("--active"),document.addEventListener("resize",rey.util.debounce((()=>{this.setTopBorderHeight()}),500))}},t=()=>{document.querySelectorAll(".elementor-widget-reycore-cover-nest").forEach((t=>{new e(t)}))};document.addEventListener("DOMContentLoaded",(()=>{"undefined"!=typeof rey?t():console.error("`rey` is undefined so this script will not run.")})),document.addEventListener("rey/preloader/loaded",(function(){t()})),rey.hooks.addAction("elementor/init",(function(t){t.registerElement({name:"reycore-cover-nest.default",cb:function(t){new e(t[0])}})}))}();