!function(){"use strict";var t=function(t){this.activeClass="--active",this.animateOutClass="--animate-out",this.currentSlide=0,this.slidesCount=0,this.settings={},this.cssSpeed=2100,this.interval=!1,this.isAnimating=!1,this.init=function(){this.scope=t,this.slider=this.scope.querySelector(".rey-coverSkew"),rey.util.alreadyLoaded(this.slider)||(this.slidesContainer=this.scope.querySelector(".coverSkew-slides"),this.slides=this.scope.querySelectorAll(".coverSkew-slide"),this.captionItems=this.scope.querySelectorAll(".coverSkew-captionItem"),this.nextContainer=this.scope.querySelector(".coverSkew-next"),this.dots=this.scope.querySelectorAll(".coverSkew-nav span"),this.slidesCount=this.slides.length,this.isAnimatedEntry=this.scope.classList.contains("--animated"),this.slidesCount&&(this.settings=Object.assign({autoplay:!1,autoplayDuration:5e3,dots:!0,waitForAnimation:!0},JSON.parse(this.slider.getAttribute("data-slider-settings")||"{}")),this.events(),rey.util.imagesLoaded(this.slidesContainer,(()=>{this.loadFirst()}))))},this.events=function(){this.nextContainer&&this.nextContainer.addEventListener("click",(t=>{t.preventDefault(),this.goToNext(),this.resetAutoplay()})),document.addEventListener("keydown",(t=>{"39"==t.keyCode&&(this.goToNext(),this.resetAutoplay())})),this.dots.forEach((t=>{t.addEventListener("click",(t=>{if(!e.currentTarget.classList.contains(this.activeClass)){if(this.settings.waitForAnimation&&this.isAnimating)return;this.goToSlide(parseInt(e.currentTarget.getAttribute("data-index")||0))}}))})),rey.vars.is_touch_device()&&this.slidesContainer&&(this.slidesContainer.addEventListener("swr",(t=>{this.goToPrev()})),this.slidesContainer.addEventListener("swl",(t=>{this.goToNext()})))},this.toggleActiveNav=function(){var t=this.currentSlide+1;this.slidesCount==t&&(t=0),this.nextContainer&&this.nextContainer.querySelectorAll(".coverSkew-nextItem").forEach(((i,s)=>{i.classList.remove(this.activeClass),s===t&&i.classList.add(this.activeClass)}))},this.toggleActiveCaption=function(){this.captionItems[this.currentSlide]&&this.captionItems[this.currentSlide].classList.add(this.activeClass)},this.goToNext=function(){var t=this.currentSlide+1;this.slidesCount==t&&(t=0),this.settings.waitForAnimation&&this.isAnimating||this.goToSlide(t)},this.goToPrev=function(){var t;t=0==this.currentSlide?this.slidesCount-1:this.currentSlide-1,this.settings.waitForAnimation&&this.isAnimating||this.goToSlide(t)},this.goToSlide=function(t){var i=this.currentSlide;this.currentSlide=t,this.isAnimating=!0,this.slider.classList.add("--stnavigation"),this.slides.forEach(((t,s)=>{t.classList.remove(this.activeClass),t.classList.remove(this.animateOutClass),t.addEventListener("transitionend",(i=>{t.classList.remove(this.animateOutClass)})),this.currentSlide===s&&t.classList.add(this.activeClass),i===s&&(t.classList.add(this.animateOutClass),t.addEventListener("transitionend",(t=>{this.toggleActiveCaption(),this.isAnimating=!1})))})),this.captionItems.forEach((t=>{t.classList.remove(this.activeClass)})),this.toggleActiveNav(),this.toggleActiveDot()},this.loadFirst=function(){this.slider.querySelectorAll("img, picture").forEach((t=>{t.style.backfaceVisibility="hidden",t.setAttribute("sizes",""),t.setAttribute("srcset",""),t.setAttribute("data-sizes",""),t.setAttribute("data-srcset","")})),this.isAnimating=!0,this.slides.forEach((t=>{t.classList.remove(this.activeClass)})),this.slides[this.currentSlide]&&this.slides[this.currentSlide].classList.add(this.activeClass),this.slider.classList.remove("--loading"),this.slider.classList.add("--initialised"),this.autoplay(),this.dotsNav(),this.toggleActiveNav(),this.toggleActiveDot();var t=()=>{this.toggleActiveCaption(),this.nextContainer&&this.nextContainer.classList.add("--visible"),this.isAnimating=!1};this.isAnimatedEntry?this.slides[this.currentSlide]&&this.slides[this.currentSlide].addEventListener("transitionend",(i=>{t()}),{once:!0}):t()},this.autoplay=function(){this.settings.autoplay&&this.slidesCount>1&&(this.interval=setInterval((()=>{this.goToNext()}),parseInt(this.settings.autoplayDuration)+this.cssSpeed))},this.resetAutoplay=function(){this.settings.autoplay&&this.interval&&(clearInterval(this.interval),this.autoplay())},this.dotsNav=function(){this.settings.dots&&this.dots[this.currentSlide]&&this.dots[this.currentSlide].classList.add(this.activeClass)},this.toggleActiveDot=function(){this.settings.dots&&this.dots.forEach(((t,i)=>{t.classList.remove(this.activeClass),this.currentSlide===i&&t.classList.add(this.activeClass)}))},this.init()},i=()=>{document.querySelectorAll(".elementor-widget-reycore-cover-skew").forEach((i=>{new t(i)}))};document.addEventListener("DOMContentLoaded",(()=>{"undefined"!=typeof rey?i():console.error("`rey` is undefined so this script will not run.")})),document.addEventListener("rey/preloader/loaded",(function(){i()})),rey.hooks.addAction("elementor/init",(function(i){i.registerElement({name:"reycore-cover-skew.default",cb:function(i){new t(i[0])}})}))}();