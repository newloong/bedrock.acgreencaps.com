!function(t){"use strict";var e=function(t){this.type,this.indicatorsVisible,this.init=function(){this.scope=t[0],this.wrapper=this.scope.querySelector(".reyEl-menu"),this.wrapper.hasAttribute("data-vsubmenus")&&(rey.util.alreadyLoaded(this.wrapper)||(this.menu=this.wrapper.querySelector(".rey-navEl"),this.type=this.wrapper.getAttribute("data-vsubmenus"),this.clickOnIndicator="link"===this.wrapper.getAttribute("data-click"),this.ancestorItems=this.menu.querySelectorAll(".menu-item-has-children.current-menu-ancestor"),this.clickEvent="click",this.autoForward=rey.hooks.applyFilters("reycore/menu/slide/horizontal_auto_forward",!1,this),this.menu.querySelectorAll(".menu-item-has-children > a").forEach((t=>{this.indicators(t),this.handleClick(t)})),window.addEventListener("elementor/popup/show",(t=>{t.detail.instance&&t.detail.instance.$element[0].querySelectorAll(".reyEl-menu[data-vsubmenus] .menu-item-has-children > a").forEach((t=>{this.handleClick(t)}))})),this.openAncestors(),this.openCurrentWithChildren(),this.startHorizontal(),this.startVertical()))},this.handleClick=function(t){t.addEventListener(this.clickEvent,(t=>{t.currentTarget.parentElement.classList.contains("__back")||(this.clickOnIndicator?t.target.classList.contains("--submenu-indicator")&&this.expand(t):this.expand(t))}))},this.expand=function(t){t.preventDefault();var e=t.currentTarget.parentElement,i=t.currentTarget.nextElementSibling;i&&("h"===this.type?this.horizontalForward(i):"v"===this.type&&(e.classList.contains("current-menu-item")?(e.classList.remove("current-menu-item"),this.horizontalClose(i)):(e.classList.add("current-menu-item"),this.horizontalOpen(i))))},this.horizontalOpen=function(t,e){"v"===this.type&&rey.animation.slideDown(t,300,e)},this.horizontalClose=function(t){"v"===this.type&&rey.animation.slideUp(t)},this.openCurrentWithChildren=function(){("h"!==this.type||this.autoForward)&&this.menu.querySelectorAll(".current-menu-item.menu-item-has-children").forEach((t=>{var e=rey.dom.children(t,".sub-menu");e.length&&(this.horizontalOpen(e[0]),this.horizontalForward(e[0]))}))},this.openAncestors=function(){("h"!==this.type||this.autoForward)&&this.ancestorItems.forEach((t=>{t.classList.add("current-menu-item");var e=rey.dom.children(t,".sub-menu");e.length&&(this.horizontalOpen(e[0],(()=>{this.indicatorsVisible||(this.indicatorsVisible=!0,setTimeout((()=>{var t=this.menu.querySelector(".--submenu-indicator");t&&(t.style.opacity=1)}),300))})),this.horizontalForward(e[0]))}))},this.indicators=function(t){if(!rey.dom.children(t,".--submenu-indicator").length){var e=this.wrapper.getAttribute("data-indicator"),i=rey.dom.createElementFromHTML('<i class="--submenu-indicator --submenu-indicator-'+e+'"></i>');t.appendChild(i),i.style.opacity=1}},this.add_transition_delays=function(){this.wrapper.querySelectorAll("ul").forEach((t=>{var e=t.classList.contains("sub-menu");rey.dom.children(t,"li").forEach(((t,i)=>{e&&(i+=1),rey.dom.children(t,"a").forEach((t=>{t.style.transitionDelay=.01*i+"s"}))}))}))},this.horizontalForward=function(t){if("h"===this.type){var e=t.parentElement.closest("ul");e&&(e.classList.remove("--current"),e.classList.add("--back")),t.classList.add("--current"),this.wrapper.style.height=t.offsetHeight+"px"}},this.updateHeight=function(){this.wrapper.style.height=this.menu.offsetHeight+"px"},this.startHorizontal=function(){"h"===this.type&&(this.updateHeight(),rey.hooks.addAction("menu_item/open",(t=>{var e=t.target.closest(".--is-mega:not(--sliding-menu-resized)");e&&(e.classList.add("--sliding-menu-resized"),this.updateHeight())})),"undefined"!=typeof jQuery&&jQuery(window).on("elementor-pro/motion-fx/recalc",(t=>{var e=this.wrapper.closest(".elementor-toggle-item");if(e){var i=e.querySelector(".elementor-tab-title:not(--sliding-menu-resized)");i&&(i.classList.add("--sliding-menu-resized"),this.updateHeight())}})),this.add_transition_delays(),this.menu.querySelectorAll("ul.sub-menu").forEach((t=>{t.classList.add("--ovh");var e=rey.dom.getSiblings(t,"a");if(e.length){var i=e[0].cloneNode(!0),s=!1;if(Object.keys(t.children).forEach((e=>{!1===s&&t.children[e].classList.contains("menu-item")&&t.children[e].classList.contains("__back")&&(s=!0)})),!s){var n=rey.dom.createElementFromHTML('<li class="menu-item __back"></li>');i.style.transitionDelay="",n.appendChild(i),t.prepend(n),i.addEventListener(this.clickEvent,(t=>{t.preventDefault();var e=t.currentTarget.closest("ul.--current");e&&e.classList.remove("--current");var i=e.closest("ul.--back");i&&(i.classList.remove("--back"),i.classList.add("--current"),this.wrapper.style.height=i.offsetHeight+"px")}))}}})),document.addEventListener("keydown",(t=>{27===t.keyCode&&this.wrapper.querySelectorAll(".sub-menu.--current > .__back > a").forEach((t=>{t.click()}))})),rey&&rey.vars.is_touch_device()&&this.wrapper.addEventListener("swr",(t=>{this.wrapper.querySelectorAll(".sub-menu.--current > .__back > a").forEach((t=>{t.click()}))})))},this.startVertical=function(){this.type},this.init()},i=function(e){var i=t(".reyEl-menu.--dd-menu",e);if(i.length){var s=t(".reyEl-menuTitle",i),n=t(".reyEl-menu-navWrapper",i);s.on("click",(function(e){i.hasClass("--dd-menu--mobiles")&&!rey.vars.is_mobile||(t(this).toggleClass("--active"),n.toggleClass("--active"))}))}},s=function(e){var i="product-cato",s=function(s){t('.reyEl-menu-nav.wcapf-ajax-term-filter a[data-key="product-cato"][data-value="'+s+'"], .reyEl-menu-nav.reyajfilter-ajax-term-filter a[data-key="'+i+'"][data-value="'+s+'"]',e).parent().addClass("current-menu-item")},n=rey.util.getUrlVars(window.location.href)[i];if(n)if(n.indexOf(",")>-1){var r=n.split(",");t.each(r,(function(i,n){0==i&&t(".menu-item",e).removeClass("current-menu-item"),s(n)}))}else t(".menu-item",e).removeClass("current-menu-item"),s(n);rey.hooks.addAction("ajaxfilters/finished",(function(){var n=rey.util.getUrlVars()[i];t(".menu-item",e).removeClass("current-menu-item"),n&&s(n)}))},n=function(t){var e=this;this.init=function(){this.navWrapper=t[0].querySelector(".reyEl-menu[data-compact-list]"),this.navWrapper&&(rey.util.alreadyLoaded(this.navWrapper)||(this.navList=this.navWrapper.querySelector(".rey-navEl"),this.type=this.navWrapper.getAttribute("data-compact-list"),this.navList&&this.type&&(this.menuItems=this.navList.children,this.menuItems.length&&rey.frontend.inView({target:this.navList,cb:t=>{this.handleMulti(),this.handleSingle(),this.handleScroll(t)},once:!0}))))},this.handleMulti=function(){if("multi"===this.type){var t=parseInt(this.navWrapper.getAttribute("data-compact-limit")||7),i=t,s=this.menuItems.item(i-1);if(s){var n=rey.dom.createElementFromHTML('<li class="menu-item __compactTrigger"><a href="#"></a></li>');n&&(s.after(n),this.navWrapper.removeAttribute("data-compact-limit"),n.addEventListener("click",(function(s){(s.preventDefault(),e.menuItems.length>i)?(i+=t,e.menuItems.item(i)?e.menuItems.item(i).after(this):this.remove()):this.remove()})))}}},this.handleSingle=function(){if("single"===this.type){var t=rey.dom.createElementFromHTML('<span class="__compactTrigger"></span>');t&&(this.navList.parentElement.append(t),t.addEventListener("click",(function(t){t.preventDefault(),e.navWrapper.classList.add("--expanded"),this.remove()})))}},this.handleScroll=function(t){"scroll"===this.type&&(this.navWidth=t.boundingClientRect.width,this.sw=t.target.scrollWidth,this.itemsProps={},this.rightButton=rey.dom.createElementFromHTML('<span class="__compactScroll __right"></span>'),this.navList.parentElement.append(this.rightButton),this.leftButton=rey.dom.createElementFromHTML('<span class="__compactScroll __left"></span>'),this.navList.parentElement.append(this.leftButton),this.rightButton&&this.rightButton.addEventListener("click",(function(t){t.preventDefault(),e.goTo(">")})),this.leftButton&&this.leftButton.addEventListener("click",(function(t){t.preventDefault(),e.goTo("<")})),this.navList.addEventListener("scroll",(function(t){e.handleScrollButtonsDisplay(t.currentTarget)})),this.navList.addEventListener("wheel",(function(t){t.deltaY&&(t.currentTarget.scrollLeft+=t.deltaY+t.deltaX),t.deltaX&&!t.deltaY||t.preventDefault()})),window.addEventListener("resize",(function(){e.navWidth=e.navList.offsetWidth,e.sw=e.navList.scrollWidth})),this.handleScrollButtonsDisplay())},this.goTo=function(t){for(var i=e.navList.scrollLeft,s=0;s<e.menuItems.length;s++){var n=e.menuItems[s],r="item-"+s;if(void 0===e.itemsProps[r]&&(e.itemsProps[r]={left:n.offsetLeft,width:n.offsetWidth},e.itemsProps[r].right=e.itemsProps[r].left+e.itemsProps[r].width),">"===t&&e.itemsProps[r].right>e.navWidth+i||"<"===t&&e.itemsProps[r].left>i){var a="center";0===s?a="start":s===e.menuItems.length-1&&(a="end"),n.scrollIntoView({behavior:"smooth",block:"nearest",inline:a});break}}e.handleScrollButtonsDisplay()},this._hasLeft=!1,this._hasRight=!1,this.scrollTolerance=25,this.handleScrollButtonsDisplay=function(){var t=e.navList.scrollLeft;this._isLeftEdge=this.scrollTolerance>=t,this._isRightEdge=e.sw-this.scrollTolerance<=t+e.navWidth,this._isRightEdge?this._hasRight&&(e.navList.classList.remove("--has-r"),this._hasRight=!1):this._hasRight||(e.navList.classList.add("--has-r"),this._hasRight=!0),this._isLeftEdge?this._hasLeft&&(e.navList.classList.remove("--has-l"),this._hasLeft=!1):this._hasLeft||(e.navList.classList.add("--has-l"),this._hasLeft=!0)},this.init()};rey.hooks.addAction("elementor/init",(function(r){var a={custom_items:function(t){new i(t),new n(t)},product_categories:function(t){new s(t),new i(t),new e(t),new n(t)},default:function(t){new i(t),new e(t),new n(t)}};t.each({"reycore-menu.custom-items":a.custom_items,"reycore-menu.product-categories":a.product_categories,"reycore-menu.default":a.default},(function(t,e){r.registerElement({name:t,cb:function(t){t[0].closest(".rey-offcanvas-wrapper")?rey.hooks.addAction("offcanvas_panel/open",(()=>{e(t)})):e(t)}})}))}))}(jQuery);