!function(){"use strict";const t={cursor:!0,orientation:"horizontal",start:50};class e{constructor(e,s={}){this.options={...t,...s},this.hasTouch="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,this.hasMSPointer=window.navigator.msPointerEnabled,null===e&&console.warn("BeforeAfter::Option element is missing"),this.elements={container:e,first:null,last:null},this.data={vertical:{widthHeight:"height",attrToAnimate:"top"},horizontal:{widthHeight:"width",attrToAnimate:"left"}},this.heightElement=null,this.widthElement=null,this.timerGoTo=null,this.timerCleaned=!1,this.cursor=null,this.onResize=this.onResize.bind(this),this.onMove=this.onMove.bind(this),this.init()}init(){this.addImageWrapper(),this.heightElement=parseInt(this.elements.container.offsetHeight),this.widthElement=parseInt(this.elements.container.offsetWidth),this.elements.first=this.elements.container.firstElementChild,this.elements.last=this.elements.container.lastElementChild,this.applyStyles(),this.options.cursor&&(this.buildCursor(),this.updateCursor()),this.addEvents(),this.goTo(parseInt(this.options.start))}buildCursor(){const t=`<div class='beforeafter-cursor'>${this.options.indicator?"<span class='__center'></span>":""}</div>`;this.elements.container.insertAdjacentHTML("beforeend",t)}updateCursor(){this.cursor=this.elements.container.parentNode.querySelector(".beforeafter-cursor"),this.cursor.style.position="absolute",this.cursor.style.zIndex=10,this.cursor.style.display="flex","horizontal"===this.options.orientation?(this.cursor.style.width="var(--ba-separator-size, 2px)",this.cursor.style.height="100%",this.cursor.style.top="0px",this.cursor.style.left="0px"):"vertical"===this.options.orientation&&(this.cursor.style.width="100%",this.cursor.style.height="var(--ba-separator-size, 2px)",this.cursor.style.left="0px",this.cursor.style.top="0px"),"rtl"===this.options.direction?(this.cursor.style.left="auto",this.cursor.style.right="0px"):"btt"===this.options.direction&&(this.cursor.style.top="auto",this.cursor.style.bottom="0px")}addImageWrapper(){[...this.elements.container.querySelectorAll("img")].forEach((t=>{const e=document.createElement("div");e.classList.add("beforeafter-item"),t.parentNode.insertBefore(e,t),e.appendChild(t)}))}applyStyles(){this.elements.last.style.zIndex=1;[...this.elements.container.querySelectorAll(".beforeafter-item")].forEach((t=>{const e=t.querySelector("img");e.style.position="absolute",e.style.width=`${this.widthElement}px`,t.style.position="absolute",t.style.overflow="hidden",t.style.height="100%","horizontal"===this.options.orientation?(t.style.top="0px",t.style.width=`${this.widthElement}px`,this.elements.last.style.top="0px",this.elements.last.style.left="auto",this.elements.last.style.right="0",e.style.right="0px"):"vertical"===this.options.orientation&&(t.style.left="0px",t.style.width="100%",this.elements.last.style.bottom="0",this.elements.last.style.top="auto",e.style.bottom="0px")}))}removeImageWrappers(){[...this.elements.container.querySelectorAll("img")].forEach((t=>{const e=t.parentNode;t.removeAttribute("style"),e.replaceWith(...e.childNodes)}))}addEvents(){this.getUserEventsToTrack().forEach((t=>{this.elements.container.addEventListener(t,this.onMove)})),window.addEventListener("resize",this.onResize)}onMove(t){this.move(t)}onResize(){this.heightElement=parseInt(this.elements.container.offsetHeight),this.widthElement=parseInt(this.elements.container.offsetWidth),this.applyStyles(),this.goTo(parseInt(this.options.start))}removeEvents(){this.getUserEventsToTrack().forEach((t=>{this.elements.container.removeEventListener(t,this.onMove)})),window.removeEventListener("resize",this.onResize)}getUserEventsToTrack(){return this.hasTouch?this.hasMSPointer?["pointerstart","MSPointerMove"]:["touchstart","touchmove"]:["mousemove"]}move(t){t.preventDefault(),null===this.timerGoTo||this.timerCleaned||(clearTimeout(this.timerGoTo),this.options.cursor&&this.updateCursor(),this.timerCleaned=!0);let e=0,s=0,i=0,o=0,n=0;o=this.hasTouch?t.touches[0].pageX:(this.hasMSPointer,t.pageX),n=this.hasTouch?t.touches[0].pageY:(this.hasMSPointer,t.pageY);const r=this.elements.container.getBoundingClientRect();"horizontal"===this.options.orientation?(s=parseInt(o-r.x),e=`${s}px, 0, 0`,i=this.widthElement-s):"vertical"===this.options.orientation&&(s=parseInt(n-(r.y+window.pageYOffset)),e=`0, ${s}px, 0`,i=this.heightElement-s),this.options.cursor&&(this.cursor.style.transform=`translate3d(${e})`),this.elements.last.style[this.data[this.options.orientation].widthHeight]=`${i}px`,this.position=s}goTo(t){let e=0,s=0,i=0;"horizontal"===this.options.orientation?(e=this.widthElement-this.widthElement*t/100,s=this.widthElement*t/100):"vertical"===this.options.orientation&&(e=this.heightElement-this.heightElement*t/100,s=this.heightElement*t/100),this.elements.last.style[this.data[this.options.orientation].widthHeight]=`${s}px`,this.options.cursor&&("horizontal"===this.options.orientation?(i=`${e}px, 0, 0`,this.cursor.style[this.data[this.options.orientation].attrToAnimate]="auto"):"vertical"===this.options.orientation&&(i=`0, ${e}px, 0`,this.cursor.style[this.data[this.options.orientation].attrToAnimate]=0),this.cursor.style.transform=`translate3d(${i})`),this.position=e}destroy(){this.cursor.remove(),this.removeEvents(),this.removeImageWrappers(),this.timerGoTo=null,this.timerCleaned=!1}}rey.hooks.addAction("elementor/init",(function(t){t.registerElement({name:"reycore-before-after.default",cb:function(t){var s=t[0].querySelector(".rey-beforeAfter");s&&new e(s,JSON.parse(s.getAttribute("data-config")||"{}"))}})}))}();